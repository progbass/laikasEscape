define(["jquery","easel","tween","preload"],function($){var e=Backbone.View.extend({index:0,sprite:null,astronaut_line:null,enemy_line:null,width:300,height:5,icon_enemy:null,icon_heroe:null,initialize:function(){_.bindAll(this,"update");var e=this.width+70,i=this.height+50,t=new createjs.Shape((new createjs.Graphics).beginFill("#FA8C14").drawRoundRect(0,0,e,i,30));t.regX=35,t.regY=25;var n=new createjs.Shape((new createjs.Graphics).beginFill("#0000").drawRoundRect(0,0,this.width,this.height,3));n.alpha=.36,n.name="base",this.astronaut_line=new createjs.Shape((new createjs.Graphics).beginFill("#FFF").drawRect(0,0,this.width,this.height)),this.astronaut_line.mask=n,this.enemy_line=new createjs.Shape((new createjs.Graphics).beginFill("#FF0000").drawRect(0,0,this.width,this.height)),this.enemy_line.mask=n,this.icon_enemy=new createjs.Bitmap("img/icon_alien.png"),this.icon_enemy.regX=22,this.icon_enemy.regX=24,this.icon_enemy.y=-20,this.icon_heroe=new createjs.Bitmap("img/icon_astronaut.png"),this.icon_heroe.regX=22,this.icon_heroe.regX=24,this.icon_heroe.y=-20,this.sprite=new createjs.Container,this.sprite.addChild(t),this.sprite.addChild(n),this.sprite.addChild(this.astronaut_line),this.sprite.addChild(this.enemy_line),this.sprite.addChild(this.icon_heroe),this.sprite.addChild(this.icon_enemy),this.reset()},reset:function(){this.enemy_line.x=-this.width,this.astronaut_line.x=-(.7*this.width),this.icon_heroe.x=this.astronaut_line.x+this.width,this.icon_enemy.x=this.enemy_line.x+this.width},slowEnemy:function(e){this.enemy_line.x-=e||10},slowHero:function(e){this.astronaut_line.x-=e||10},speedEnemy:function(e){this.enemy_line.x+=e||10},speedHero:function(e){this.astronaut_line.x+=e||10},update:function(){var e=this;return e.astronaut_line.x+=.6,e.enemy_line.x+=.8,this.icon_heroe.x=this.astronaut_line.x+this.width,this.icon_enemy.x=this.enemy_line.x+this.width,e.astronaut_line.x>=0?(e.astronaut_line.x=0,void e.trigger("madeIt")):e.enemy_line.x>=e.astronaut_line.x-20&&e.astronaut_line.x<-10?void e.trigger("timeUp"):void 0},close:function(){this.sprite.removeAllEventListeners(),this.unbind(),this.remove()},getRandomInt:function(e,i){return Math.floor(Math.random()*(i-e+1))+e}});return e});